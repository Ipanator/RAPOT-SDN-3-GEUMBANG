<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Video Pembelajaran - SDN 3 Gelumbang</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#eef7ff; --primary-start:#1e40af; --primary-end:#2563eb;
    --card:#fff; --muted:#6b7280;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:#0f172a;padding:28px;}
  header{
    max-width:1100px;margin:0 auto 22px auto;padding:24px;border-radius:12px;
    background:linear-gradient(90deg,var(--primary-start),var(--primary-end));
    color:white;box-shadow:0 8px 30px rgba(37,99,235,0.12);
    text-align:center;
  }
  header h1{margin:0;font-size:22px;letter-spacing:.2px}
  .gallery{max-width:1100px;margin:18px auto 60px;display:grid;gap:20px;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));}
  .card{position:relative;background:var(--card);border-radius:14px;overflow:hidden;
    box-shadow:0 6px 18px rgba(15,23,42,0.06);transition:transform .35s,box-shadow .35s;}
  .card:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(15,23,42,0.12);}
  .thumb{position:relative;overflow:hidden;height:0;padding-top:56.25%;}
  .thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .6s,filter .4s;}
  .card:hover .thumb img{transform:scale(1.08);filter:brightness(.55);}
  .play{
    position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:68px;height:68px;border-radius:999px;
    display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);color:white;font-size:30px;
    opacity:0;transition:opacity .25s,transform .25s;
  }
  .card:hover .play{opacity:1;transform:translate(-50%,-50%) scale(1.02);}
  .title{padding:12px 14px;font-weight:600;color:#0f172a;font-size:15px;text-align:center;min-height:54px}
  /* modal */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.7);z-index:9999;backdrop-filter:blur(3px)}
  .modal.open{display:flex}
  .modal-box{width:92%;max-width:980px;background:#000;border-radius:12px;overflow:hidden;animation:pop .22s ease}
  @keyframes pop{from{transform:translateY(10px) scale(.99);opacity:0}to{transform:none;opacity:1}}
  .modal-head{padding:12px 14px;color:#fff;display:flex;justify-content:space-between;align-items:center;gap:12px;background:linear-gradient(90deg,#02122a,#041b3a)}
  .modal-title{font-weight:700}
  .modal-iframe{width:100%;height:540px;border:0;display:block}
  .close-btn{background:#ef4444;border:none;color:white;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}
  /* responsive */
  @media(max-width:640px){
    body{padding:12px}
    header{padding:18px}
    .modal-iframe{height:50vh}
    .play{width:52px;height:52px;font-size:22px}
  }
</style>
</head>
<body>

<header>
  <h1>Video Pembelajaran â€” SD Negeri 3 Gelumbang</h1>
</header>

<main>
  <section class="gallery" id="gallery"></section>
</main>

<!-- Modal -->
<div id="modal" class="modal" aria-hidden="true">
  <div class="modal-box" role="dialog" aria-modal="true">
    <div class="modal-head">
      <div>
        <div id="modalTitle" class="modal-title"></div>
        <div id="modalChannel" style="font-size:13px;color:#cbd5e1;margin-top:4px"></div>
      </div>
      <div>
        <button id="closeModal" class="close-btn" aria-label="Tutup pemutar">Tutup</button>
      </div>
    </div>
    <iframe id="modalFrame" class="modal-iframe" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
</div>

<script>
/* Urutan asli kamu (duplikat dihapus, urutan tetap sama) */
const ids = [
  // ðŸ”¥ 11 Video Utama (urutan sesuai instruksi)
  "apmjaTJBNRU", 
  "ZGcAmHpQw10",
  "MxDP4b7Dg6M",
  "hsISgdK51IA",
  "fFUkelrGQfA",
  "KyBprTVObwc",
  "sv8kW7XDdHk",
  "xtid1FHHyUs",
  "4VsRp8S4TSY",
  "XUJNmSlwwno",
  "b7Q1FE3JFWs",
  "FZdJCiyLIvI",

  // ðŸ“Œ Sisa video (tidak dihilangkan)
  "8z7zmsf9wZs","x01dQYVUotM","9w9mODrBWnE","3G6UJ9by7MQ","sghAqhta08E",
  "1d-1l7cGB2Q","vsLPEutCqpA","gBw9JFoyIcU","N0Nb3MBSXEw","cFHSePwMGw4",
  "Q8n6IoWx0vg","fCp6i3e6mdw","SzADJUIxXsI","YHhuzD35Ywk",
  "BF4hRjaLHNE","am3sGO12f6Q","okrWNmUNwaE","QMmWyFbWN6M","PrH5Uwy6IDc",
  "878HzqGwWp8","faoKd-LUUbo","CfccgOShfmE","ZWwEr4yIgPQ"
];

/* helper: create card */
const gallery = document.getElementById('gallery');

ids.forEach(id=>{
  const thumb = `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
  const card = document.createElement('article');
  card.className = 'card';
  card.innerHTML = `
    <div class="thumb">
      <img src="${thumb}" alt="thumb">
      <div class="play">â–¶</div>
    </div>
    <div class="title" id="title-${id}">Mengambil judul...</div>
  `;
  card.classList.add('card');
  card.addEventListener('click', ()=> openPlayer(id));
  gallery.appendChild(card);

  /* ambil judul via noembed untuk kompatibilitas CORS */
  fetch('https://noembed.com/embed?url=https://www.youtube.com/watch?v='+id)
    .then(res=>res.json())
    .then(data=>{
      const t = document.getElementById('title-'+id);
      if(t) t.textContent = data.title || 'Video Pembelajaran';
    })
    .catch(_=>{/* fallback tetap tampil */});
});

/* Modal behavior */
const modal = document.getElementById('modal');
const modalFrame = document.getElementById('modalFrame');
const modalTitle = document.getElementById('modalTitle');
const modalChannel = document.getElementById('modalChannel');
const closeBtn = document.getElementById('closeModal');

function openPlayer(id){
  modal.classList.add('open');
  modalFrame.src = `https://www.youtube.com/embed/${id}?autoplay=1&rel=0&modestbranding=1`;
  // fetch title + channel
  fetch('https://noembed.com/embed?url=https://www.youtube.com/watch?v='+id)
    .then(res=>res.json())
    .then(d=>{
      modalTitle.textContent = d.title || 'Video Pembelajaran';
      modalChannel.textContent = d.author_name ? 'oleh: '+d.author_name : '';
    }).catch(()=>{ modalTitle.textContent='Video Pembelajaran'; modalChannel.textContent=''; });
  // lock scroll
  document.body.style.overflow = 'hidden';
}

function closePlayer(){
  modal.classList.remove('open');
  modalFrame.src = '';
  modalTitle.textContent = '';
  modalChannel.textContent = '';
  document.body.style.overflow = '';
}

closeBtn.addEventListener('click', closePlayer);
modal.addEventListener('click', (e)=>{ if(e.target === modal) closePlayer(); });
document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closePlayer(); });
</script>
</body>
</html>
