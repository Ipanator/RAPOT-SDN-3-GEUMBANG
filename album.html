<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Galeri SDN 3 Gelumbang</title>
<meta name="description" content="SDN 3 Gelumbang galeri kegiatan & dokumentasi siswa. Pencarian, filter kelas, dan tampilan premium." />
<link rel="icon" href="/logo2.png" />
<style>
  /* Sticker Generasi Emas */
.ribbon {
  position: fixed;    /* dari absolute ‚Üí fixed */
  top: 10px;          /* biar nggak terlalu mepet */
  right: 10px;
  background: linear-gradient(135deg, #facc15, #fbbf24, #f59e0b);
  color: #111;
  font-weight: 900;
  font-size: 12px;
  padding: 6px 14px;
  border-radius: 0 12px 0 12px;
  transform: rotate(6deg);
  box-shadow: 0 6px 16px rgba(0,0,0,0.35);
  border: 1px dashed rgba(255,255,255,0.25);
  z-index: 9999;      /* pastikan di atas semuanya */
}


  :root{
    --bg:#071026;
    --card:#0b1220;
    --muted:#99a7b8;
    --accent:#38bdf8;
    --accent-2:#60a5fa;
    --glass: rgba(255,255,255,0.03);
    --radius:14px;
    --gap:16px;
    --max:1200px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:linear-gradient(180deg,var(--bg),#041025 140%);
    color:#e6eef6;padding:28px;display:flex;justify-content:center;
  }
  .wrap{width:100%;max-width:var(--max)}

  header{
    display:flex;align-items:center;justify-content:space-between;gap:20px;margin-bottom:18px;
  }
  .brand{display:flex;gap:12px;align-items:center}
 .logo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px 12px;
  border-radius: 12px;
  background: linear-gradient(135deg,#fff,#dbeafe);
  color: #003366;
  font-weight: 800;
  text-decoration: none;
  font-size: 14px;
  min-width: 56px;
  max-width: 100%;
  box-sizing: border-box;
  white-space: nowrap;
}

  p.lead{margin:2px 0 0;color:var(--muted);font-size:13px}

  /* toolbar */
  .toolbar{display:flex;gap:12px;align-items:center;margin:14px 0 18px;flex-wrap:wrap}
  .search{
    background:var(--card);border:1px solid rgba(255,255,255,0.04);
    padding:10px 12px;border-radius:12px;display:flex;gap:10px;align-items:center;min-width:260px;flex:1;
  }
  .search input{flex:1;background:transparent;border:0;color:inherit;outline:none;font-size:14px}
  .filters{display:flex;gap:8px;flex-wrap:wrap}
  .pill{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:999px;color:var(--muted);cursor:pointer;font-weight:600}
  .pill.active{border-color:var(--accent);color:var(--accent);box-shadow:0 6px 18px rgba(56,189,248,0.06);}

  /* masonry grid (CSS columns) */
  .grid{
    column-width:260px;
    column-gap:var(--gap);
  }
  .card{
    display:inline-block;width:100%;margin:0 0 var(--gap);background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
    border-radius:12px;padding:10px;border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 8px 24px rgba(2,6,23,0.55);transition:transform .24s ease, box-shadow .24s;
  }
  .card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(2,6,23,0.75)}
  .media{
    width:100%;aspect-ratio:4/3;border-radius:10px;background-position:center;background-size:cover;position:relative;overflow:hidden;
  }
  /* progressive blur overlay */
  .media img{
    width:100%;height:100%;object-fit:cover;display:block;filter:blur(14px) scale(1.02);
    transform-origin:center center;transition:filter .6s ease, opacity .45s ease;
  }
  .media img.loaded{filter:blur(0) scale(1);opacity:1}
  .meta{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
  .name{font-weight:700;font-size:14px}
  .cls{color:var(--muted);font-size:13px}

  /* hover overlay for actions */
  .overlay{
    position:absolute;inset:0;display:flex;align-items:flex-end;justify-content:flex-end;padding:10px;gap:8px;
    pointer-events:none;
  }
  .icon{
    pointer-events:auto;background:linear-gradient(90deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));
    border-radius:999px;padding:8px;border:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(4px);
    color:#fff;cursor:pointer;font-weight:700;
    transition:transform .18s;
  }
  .icon:active{transform:scale(.96)}

  /* modal */
  .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.85);display:none;align-items:center;justify-content:center;padding:18px;z-index:1200}
  .modal{
    width:min(1100px,98%);background:linear-gradient(180deg,#071225,#041129);border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);display:flex;gap:18px;align-items:flex-start;
  }
  .modal-left{flex:1}
  .modal-img{width:100%;height:60vh;object-fit:contain;border-radius:10px;background:#000}
  .modal-right{width:320px;color:var(--muted)}
  .modal h2{margin:0 0 6px;color:#fff}
  .modal .meta-item{display:flex;justify-content:space-between;margin:8px 0;color:var(--muted)}

  /* floating upload button */
  .fab{
    position:fixed;right:22px;bottom:22px;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#04293a;
    padding:14px 16px;border-radius:12px;font-weight:800;border:0;cursor:pointer;box-shadow:0 12px 36px rgba(56,189,248,0.14);z-index:1100;
  }

  /* load more */
  .load-more{display:block;margin:20px auto;padding:10px 18px;border-radius:12px;border:0;background:var(--card);color:var(--muted);cursor:pointer}

  /* responsive tweaks */
  @media (max-width:880px){
    .modal{flex-direction:column}
    .modal-img{height:50vh}
    .modal-right{width:100%}
  }
</style>
</head>
<body>
<div class="wrap">
 <header>
  <div class="ribbon">Generasi Emas</div>

  <div class="brand">
    <div class="logo">üìò SD</div>
    <div>
      <h1 style="margin:0;font-size:20px">Galeri Siswa SDN 3 Gelumbang</h1>
      <p class="lead">Galeri kegiatan & dokumentasi siswa klik foto untuk tampilan penuh.</p>
    </div>
  </div>

  <div style="text-align:right;color:var(--muted);font-size:13px">
    Total koleksi: <span id="totalCount">0</span>
  </div>
</header>

  <div class="toolbar">
    <div class="search" aria-label="Pencarian">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:.8"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6"></circle></svg>
      <input id="q" placeholder="Cari nama atau kata kunci (contoh: jalan, lomba)..." />
    </div>

    <div class="filters" role="tablist" aria-label="Filter kelas">
      <button class="pill active" data-filter="all">Semua</button>
      <button class="pill" data-filter="1">1</button>
      <button class="pill" data-filter="2">2</button>
      <button class="pill" data-filter="3">3</button>
      <button class="pill" data-filter="4">4</button>
      <button class="pill" data-filter="5">5</button>
      <button class="pill" data-filter="6">6</button>
    </div>
  </div>

  <main>
    <section id="grid" class="grid" aria-live="polite"></section>
    <button id="loadMore" class="load-more">Muat Lebih Banyak</button>
  </main>
</div>

<!-- Modal full -->
<div id="modalBG" class="modal-backdrop" role="dialog" aria-hidden="true">
  <div class="modal" role="document">
    <div class="modal-left">
      <img id="modalImg" class="modal-img" src="" alt="Foto siswa">
    </div>
    <aside class="modal-right">
      <h2 id="modalName">Nama Siswa</h2>
      <div class="meta-item"><span>Kelas</span><strong id="modalClass"></strong></div>
      <div class="meta-item"><span>Tanggal</span><span id="modalDate"></span></div>
      <p id="modalDesc" style="margin-top:10px;color:var(--muted);line-height:1.45">Deskripsi kegiatan / catatan.</p>
      <div style="margin-top:12px;display:flex;gap:8px">
        <button id="prevBtn" class="pill" style="flex:1">‚Üê Sebelumnya</button>
        <button id="nextBtn" class="pill" style="flex:1">Berikut ‚Üí</button>
      </div>
    </aside>
  </div>
</div>

<!-- Floating upload (; but UI ready) -->
<button id="fab" class="fab" aria-label="Upload foto">+ Upload</button>

<!-- Upload modal (demo, no backend) -->
<div id="uploadBG" class="modal-backdrop" style="display:none">
  <div class="modal" style="max-width:640px;flex-direction:column">
    <h2 style="margin:0 0 10px">Ajukan Foto Siswa</h2>
    <form id="uploadForm" style="width:100%;display:grid;gap:8px">
      <input name="name" placeholder="Nama siswa" required style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:transparent;color:inherit" />
      <input name="class" placeholder="Kelas (contoh: 3)" required style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:transparent;color:inherit" />
      <input name="photo" placeholder="URL foto (contoh: https://...)" required style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:transparent;color:inherit" />
      <textarea name="desc" placeholder="Deskripsi singkat" rows="3" style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:transparent;color:inherit"></textarea>
      <div style="display:flex;gap:8px;margin-top:6px">
        <button type="submit" class="fab" style="flex:1;padding:10px">Kirim</button>
        <button type="button" id="cancelUpload" class="pill" style="flex:1">Batal</button>
      </div>
    </form>
  </div>
</div>

<script>
/* ===== SAMPLE DATA (ganti / load dari server jika tersedia) ===== */
const items = [
  {id:1,name:'Bantuan Chroombok',class:'-',date:'',desc:'-',photo:'https://www.facebook.com/61574839020829/posts/122134256360827967/?mibextid=rS40aB7S9Ucbxw6v'}, 
  {id:2,name:'Kegiatan Ekstrakurikuler Teknologi Komputer & Jaringan',class:'-',date:'22 November 2025',desc:'Teknologi untuk belajar, berkarya, dan menciptakan, mandiri dalam teknologi',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/587072643_122094632715142209_8116767901766321341_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeEbdMvM5lN9Ff5xU9-aV78nPIlRBRd8WAA8iVEFF3xYACUcAdPFhnLE8JjZgNJvIX2gGg4Ef-MdDEl66W4NImSk&_nc_ohc=JXbFUAp2GbcQ7kNvwGoW6ow&_nc_oc=AdmU8ArT5p8XY_u8NNTNij8jL2D6NS5qxewMI10GSsXJfC81UDm1a19wP6dKOkA7Qqg&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=HLvNCYsHlsUYPAFlrrW23A&oh=00_Afg0zemvoWdcyAHUfmAr-GM6OH1viHm5si9oYiMIxLJN7Q&oe=6929E6A7'},
  {id:3,name:'Kegiatan Ekstrakurikuler Teknologi Komputer & Jaringan',class:'5',date:'22 September 2025',desc:'Di sini siswa tidak hanya menggunakan teknologi, tetapi juga memahami cara kerjanya..',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/588037471_122095179351142209_8682522085408337932_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeGUe0hBsJLm_1waJC0Qha5L1N-YxUiDv_fU35jFSIO_93gu6WBvQ2ZEnDrGKvqAW4iPo74hqHHAyAPxL58DB3kO&_nc_ohc=mtgB2WqWVaAQ7kNvwEzVNkk&_nc_oc=Adk68Sk63U7AnB7BALSin0sEzk01cJ5pB4_YjmWe50X0aTjkw0waB4Z_D0N591UBKpE&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=bM3gzS6f006nzLfbm4hIqg&oh=00_AfiOKXTpu0KGPA2IoKSjeJOonH1yZOhjpy44nykgEAONhA&oe=6929DED6'},
  {id:4,name:'Kegiatan Ekstrakurikuler Teknologi Komputer & Jaringan',class:'-',date:'22 September 2025',desc:'Kreativitas digital dimulai dari keberanian mencoba di kegiatan TIK.',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/589029349_122095179099142209_7047206868331133914_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeF7JotaPigewEfm3F8qEB6t4RPNPixasgzhE80-LFqyDASaG1d6me26kP1T05SxKfBAGR7jCFvlQaedmUhOGXWW&_nc_ohc=zcprPNeDHqAQ7kNvwHVxGRk&_nc_oc=AdmR2FAFrDbftOyWHd8o8EPx4HTg-yOY9zUhRL5xvIatzSqFWt6MCZIq3T-R-BjtdHA&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=Rmc-9SJsaPzPSih6v2FTMw&oh=00_AfhVuF_yVmGws7T5K3WTDd0_5qnm_lNvH6hjgG9fO5z5hg&oe=6929F994'},
  {id:5,name:'Kegiatan Ekstrakurikuler Teknologi Komputer & Jaringan',class:'-',date:'22 September 2025',desc:'Siswa belajar mengenal bagian-bagian perangkat dan bagaimana semuanya bekerja sebagai satu kesatuan.',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/587753215_122094633939142209_340433111612893632_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeFPoAeTLWlY9QpFC5Mqd9OXL1AqAUqgfA0vUCoBSqB8DSXMscuOC1NZDxPFDg4A5mjQseHtto0XH-8kw4oeFdzv&_nc_ohc=b3ku2rZWMPEQ7kNvwFEZZhM&_nc_oc=Adk6WiEDUl53DKI20w_XGhQj1nR6Y8wTJ4SgLM-QvD0iZxNhhHUFONFz9SMk2S7m4uo&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=19etoJ4OYXXCXICOhDJ07w&oh=00_Afh4O7E_xo6BBMD2YDzBJ0hzu5cXDkyqkOzY1LCxSrhDGA&oe=6929F6A4'},
  {id:6,name:'Kegiatan Ekstrakurikuler Teknologi Komputer & Jaringan',class:'-',date:'22 September 2025',desc:'Melalui sesi perakitan UPS, Ekskul TIK membekali siswa dengan pengalaman langsung dalam mempersiapkan perangkat cadangan daya. Siswa dilatih memahami sistem kerja UPS dan menerapkannya dengan metode yang aman..',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/588344389_122094632901142209_5018950370076431707_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeGstIdvkjktOwEdNDYwjoEg34eCLi0VZ-zfh4IuLRVn7OERzgdhRAgKylHrA5_duJLVA8_iuerA4_I2P5-Otr0V&_nc_ohc=lJ-HxzOxar8Q7kNvwECvlz0&_nc_oc=AdnsCGP5JsOk7xeI-LVjUPBs3PTWcmxX5JFm2NicPS9Uubmd_GPhmTLGQ_yJ8E-CWcQ&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=Lx9pnVdLYHaChgJHr24UPw&oh=00_Afjaj5dnL1TlrwZ9XYzcFJ6ODu6yzF-wB59WURpxX8Ez8Q&oe=6929FEAE'},
  {id:7,name:'Kegiatan Ekstrakurikuler Teknologi Komputer & Jaringan',class:'5',date:'22 September 2025',desc:'Pembelajaran ini memberi pengalaman nyata tentang proses penyusunan sistem teknologi secara mandiri.',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/589144405_122095179435142209_4325129946172942698_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeEmvIm697_3DJpcm2YAdobTs_OiLTZEc4-z86ItNkRzjxeJsEizCWVBYPEq1dH9dC_vyvbLa3CgxoEEOfmGZmyQ&_nc_ohc=HWCpJfzKExcQ7kNvwG-bEw8&_nc_oc=AdkY2VkDj8OY80OD5EmIjZfJqDUkAUHEtW5Qf6P_MDIUvYNgNSmHIUKxb1yDmOkH2oI&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=GJQeOgDekBuJ1nMVX8DlHQ&oh=00_Afi6wLx-nfyW3B_O7u7YiS6g3vm5OWsgC56G7flmGb9A6w&oe=692A0B61'},
  {id:8,name:'Kegiatan Ekstrakurikuler Teknologi Komputer & Jaringan',class:'5',date:'22 September 2025',desc:'Siswa mengenal hubungan antara kabel, modul, dan komponen sehingga perangkat bisa berjalan stabil.',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/588385041_122095179507142209_114308339128652969_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeHuX2SpAi0O8d1B_t3vyYoIPCGv-H3OVu08Ia_4fc5W7cT12NiVzHnTxwrp9MOA2LQfGc2lK0_2OpL7CXGJLaHK&_nc_ohc=vLlFNh8esoIQ7kNvwE2yBo5&_nc_oc=AdmP0sIkF4tTugNnvIlu3UVCsvyyMAwJoCKRkQrgjoxkq6fvWcrfHCUbl9Z_lnKaZ_w&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=HK1VUBvHHjOckbFADUnt_w&oh=00_AfgO0CD5B_TKea2hK-TO99fy-RU2aqR-eh08TL2xBCaj4A&oe=6929F1B6'},
  {id:9,name:'',class:'1',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/594401055_122104508667142209_726405659769504026_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeEMJw6AHUbaq2Rh7YKmwEYXPAsGAdxbEQs8CwYB3FsRC1YpKNUrq3vA4akQ6tk78c9C7zhIusUrxcAj-c8O7pon&_nc_ohc=zFVZ7oTvYMkQ7kNvwGLIvHj&_nc_oc=AdmxPYw9xPg7pRP6wLba5F9Ft0IlmkGjALr51C33Osq1Bye6h_SPHNBnt6_DRkv57MI&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=xUnqBYDVc2B61YgZYnTsug&oh=00_Afl14bVTWvFfwOhIR4rlyRhFXSiYpuHJ-wj6Ex_xs98j4w&oe=6938B42E'},
  {id:10,name:'',class:'1',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/593782723_122104497729142209_7282329820881371339_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeGBEvIFqj7apjv0FpEL5Qrmo4pbTZVUojCjiltNlVSiMPkue0ww_9YKlfL4gWVb5loUDKOXJpKutokhhZRisno9&_nc_ohc=eIgC3R7T69EQ7kNvwFx04a4&_nc_oc=AdlKEhpBQt_J3qhM92nlMOjjGrGMZqgTsU13e02gMKT7LtE1knkVVJUwAVMWoszyCZ8&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=aorueYiNnaJxw9VANuUMnQ&oh=00_AfkKaE6oICSWOFYiUXcVq4Octr9LnOzOTyuNa153KDhjqA&oe=6938BDA0'},
  {id:11,name:'',class:'1',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/594346807_122104497969142209_716476176970173856_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeExeiEdjVWAqj4YDNFhLB428gwbFMZ3RlHyDBsUxndGUcBneCxxeNBbC8qzJUYLe7ioO4whkd34e5Kmjca_CgTa&_nc_ohc=sdGYPAZGeZcQ7kNvwEoSulG&_nc_oc=AdlfLpyZu70yKbgBZ4Ouz47bK0DUvuXciE_3PsbG0oe2Nr4oKjwUdcShC14UdC5uUdA&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=YifjkBSfU9SqLElHvnYruA&oh=00_AfkB13UfNQ3MovkCH1BrmGCbi_X_uVCe_3pSlNmLu1RMJA&oe=6938BBFE'},
  {id:12,name:'',class:'1',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/594852691_122104497663142209_8017706551951219627_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeFZZatQ81zmXhakgGAhHk3aPaUVE3HUkq89pRUTcdSSr3urJHg0E84Yrjyr7igMJf6ibhqtEAxalU-sLk_OLEzh&_nc_ohc=CcOtLCztgMgQ7kNvwFZTj5g&_nc_oc=Adl1obhHI1zh6LcFe1xR3EhavoqL5Y3uZrVFScNplG9o6MD6sntcpPvsk0wA54zfkmg&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=XRCflp2J-5aTCPJMQnWspg&oh=00_AfktVyX0oZbB1Umdgh8XISsGldfw5Ctm4u5iBXtb7jZfzg&oe=6938A000'},
  {id:13,name:'',class:'1',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/594005125_122104497681142209_4759071821260259800_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeH2z4xlMUXmyV1HsmzMq4BH249VTq6zwPbbj1VOrrPA9mDoH9HKOlPQzzA_wQF_AQeUEzxj6YO_S9hhp3rlamAr&_nc_ohc=rCW1raSMMWYQ7kNvwFjJg14&_nc_oc=AdkiVBYqCjmsH9g5E2Gr-Rp6I_d6zlcMnG7jmQa_9fiX_stHzLqB-LZshkR_UyvP1I0&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=v02M7Q1sgGqSqE8tJTtoXA&oh=00_AfkrBHXVmuh7L14IyrhCtXOW6g-p-ztVq-nYDDvUXVWXPg&oe=6938961C'},
  {id:14,name:'',class:'1',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/593797024_122104497903142209_6150686624471106175_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeGPu2iqkRFmpDAoHeZUNzPLRtlB-lDPYOBG2UH6UM9g4DQ7Z9NOY-s_zbMdMQ5q1ljIyH-lcfkcOCblLEXJemo2&_nc_ohc=5wpJbNU47EEQ7kNvwFAq_VK&_nc_oc=AdmnAlz2aqgCOI-LPiGVIX2LA3tqVNTzWWcD1QwmYjUX0p-Vd_h-po-aRtYfuvFCoOw&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=tW5DywYje2j3guEYrWEtaw&oh=00_AfmK3m0_xlHoAnQvDJyaXpO9Cg4AqX5UO-wMOR2yzMw8Dw&oe=6938A019'},
  {id:15,name:'',class:'3',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/593846872_122104498023142209_1073557032893095716_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeFJQWlMyFj0sS-asK0Hd0EHWlqIfyV62qtaWoh_JXraq1mtvQdgvsobqXwu-b_VvwMsFpGqU-1_A5LXzg0Rls9J&_nc_ohc=SLcPUg32FVkQ7kNvwHFlZeM&_nc_oc=Adlo42QObry3-sccQOV_2OB9ffUIH9YxgJ3W2uQSkH6lqupkLTtHJvpr7Ag1msbWtfY&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=tumdkHAkeKZTUHegN5icIA&oh=00_AfncGdCGhfabEDn9Q-0S461K_1Ql3wnC_8OxhM6dOfSd3Q&oe=6938958D'},
  {id:16,name:'',class:'2',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/593746689_122104498107142209_80164979044047363_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeHMWneYPx0ORjq-YGvNu_HZ9L8L3yTAIJf0vwvfJMAgl8rwHM-RMmetjj0VXp7aMaKEuNGxtrS2IA9fWxsl3Ztc&_nc_ohc=ZI-Op7D880QQ7kNvwFdNhwv&_nc_oc=AdkX45FfqcD4VWvUFd1AZuUtQuiXFzDheu6H4GpeXJ5Cp3oXDlpzWoH0LsqxmTdBBGc&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=nc49H4S7zhV0H7ARWWCScg&oh=00_AflV4CCB0bA9DDtopvIQnr6Fqu5jwMang5s0CHeCHXD41g&oe=69388ABF'},
  {id:17,name:'',class:'3',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/587611723_122095186443142209_2249873822596428326_n.jpg?stp=dst-jpg_s590x590_tt6&_nc_cat=111&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeFCS4akhJuwiNOxzy8xuIR6ECUVUcfKJf8QJRVRx8ol_xSaId7CNCqTSQ06bCWih-8THquzZp5HjTczpOLT4-BT&_nc_ohc=rQSjD0Vd5h0Q7kNvwFCzkZE&_nc_oc=AdmheWjuwu5yNqasQbdv8e6M-JywhhFuJFf8pcPRdVJUBz8rdv5p0wL3vwUx_vIA_Dc&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=O6DBK5QZ3nwOhz7yGl8ogw&oh=00_AfkGytW3M7sDqHRiIqmA_441xNgQ_4AKAws4RZritG4DDg&oe=69389EFE'},
  {id:18,name:'',class:'3',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/587181493_122095186407142209_4925595507985605909_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeEGv59JltCIMLo2UWqvGm1Dtn9FmEC0Jbu2f0WYQLQlu0glVvoxPM1YCjv1U4_llhvXWV9IuhvJ-AI7eMHyrYaF&_nc_ohc=5vmkmgzAfy4Q7kNvwE31Sgl&_nc_oc=AdnCrOm3Bv6NQEnJfhxwJ96pZ_JuwP9qEI1gYbbriA2DEZfmu4ZwHBOWPGJrJILBSpA&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=lqX9HiwySLaT87kXPD7eaA&oh=00_Aflx9hzK1cZ2GbI5TUe5-X397vJdZNU6ZOi9yUEn7AOBUg&oe=6938BF63'},
  {id:19,name:'',class:'3',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/593904718_122104509573142209_5430558127052111320_n.jpg?stp=dst-jpg_s590x590_tt6&_nc_cat=105&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeERA4lMXP2jLiAqJj7Za3T8vYDBn4pIRvq9gMGfikhG-nKe9LHkLjCbToIrHSfQY2kH-ByyAOTPXCpnarO4qugo&_nc_ohc=fCjmphVu2igQ7kNvwHLYr18&_nc_oc=Admt3j8ARLLekHSQjRi_NUSQe_oaTJuHBctXzVmHzJzHjQLzf_NM90ja6YA0-1-n4NE&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=8i2LuK-4mabWQwivumZNqQ&oh=00_Afn1rHdx42Z2aeAOxiUmnRYHZyREwxSSgL3Gf1zrZ9LdDw&oe=6938A31D'},
  {id:20,name:'',class:'3',date:'-',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/595708437_122104510053142209_4641298703310479430_n.jpg?stp=dst-jpg_s590x590_tt6&_nc_cat=104&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeHTAXqH1kf4TPPRtLhLyCp-4gE2I5NAnMziATYjk0CczC3bgB9sOhZ0MParC7_cMTgEDPnzl7ngjgGY5U5gqBNK&_nc_ohc=D19EW27bYe8Q7kNvwFlivrV&_nc_oc=Adn-0t5VmwAA8fahFLYofNOiOCoH6hLUFs-Ld7CxYdwyFTlKVMX42hBoZ_6z0rYshTE&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=8i2LuK-4mabWQwivumZNqQ&oh=00_Afnrc0lgvdrqtyHfbg01Gz5Eo20Jqhq0XccooRKM4q0Qsg&oe=6938B4B9'},
  {id:21,name:'-',class:'3',date:'',desc:'-',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/595309087_122104510059142209_6131665815195574170_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeGCAaoy3s1C3bvHiqS4hhwmTa0TOoqaM-5NrRM6ipoz7iRo3Arml8Ch6ccK4fz2uyNINckMnWb_fCcmXisNt7bn&_nc_ohc=rdEWQ8ouER8Q7kNvwET6Tym&_nc_oc=AdklCQtkqSOQ9zbGLaD06Eij1TAll5hIFfxvQKPbTbnyHw4fqI1DBnSBGjjfcQPYoFQ&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=IOIrolUl2gVFXnAOKwUu4g&oh=00_AflpbI9-7rMvRGBO7yvu-1rBwgo39S7-7uI7VxSS9Gzt3g&oe=6938A3E0'},
  {id:22,name:'-',class:'3',date:'',desc:'',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/594433841_122104508319142209_5715258956611713864_n.jpg?stp=dst-jpg_s590x590_tt6&_nc_cat=111&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeElSvflFFSgUWSnb7FJr3UO4ve6r2Kvopvi97qvYq-imwW8xjRBBw1hBxZLGLrGWvhb3VyTLvW9P070FhjXW9aq&_nc_ohc=ZoirjlCnwGQQ7kNvwGCCW-w&_nc_oc=AdmEneL1JI0shAQevb-B_s4D4roFlFKhsNfiIUMAoj2p0wJ5TAMgc44nwhmp5ovlppw&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=lcTaGZaQmThYALwtr5l5Lw&oh=00_Afk-i6i16tWqtiFrVjvsTRN5Xg0TjgKWoOOAo8v7CbFqoQ&oe=6938A838'},
  {id:23,name:'-',class:'3',date:'',desc:'-',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/594149603_122104508673142209_2155595334208447200_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeFkn7YjqgFtlPIokLagSxutht2cO9UYc5aG3Zw71Rhzljx3VK0GTo4AgXLExT8xjar4-nLRZ9As3UdLczpElNLG&_nc_ohc=HjjFTPpINOsQ7kNvwHpgSIp&_nc_oc=AdlvOC24fIGTcSyZ8Nn3iS0Iyg5CoyoPOqxIpt1iD4Vf0C_OsfST8e4Q866grhs_G2M&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=kg1Xsypb42jiDeiAbtwX7A&oh=00_AflP-i7o5Zuk-30lZ6BjP0hJIhdp_9SVsuYNwDCyHH0UoQ&oe=69388FC2'},
  
  
  {id:24,name:'Kegiatan Yasinan Bersama',class:'1,2,3,4,5,6',date:'16 Mei 2025',desc:'Kegiatan yasinan bersama',photo:'https://scontent-cgk1-1.xx.fbcdn.net/v/t39.30808-6/498634868_122119609280827967_7333080111567562800_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeG2QYdDsJdlp1dRpdaTFha04EDwXNVHG-DgQPBc1Ucb4GBvEmH65Iu9yFiGTN-DGmljBuLr-2QvSg-7gKxiRGQe&_nc_ohc=O3gdS16_tmMQ7kNvwEMYtPl&_nc_oc=AdmtQWjTIiZLsYZNmJDVJAaJj5OA5Ja7zTXVy1qv4hLk9E-5SlIwgkUlSiBg4vA4eLE&_nc_zt=23&_nc_ht=scontent-cgk1-1.xx&_nc_gid=gmdpS8vj3ZfrAeS8NuhAIg&oh=00_AfgNpaTEXi0EyIkG-G1X7YmQjMJ0B3lvlzPL2NdBdcb1nw&oe=69266572'},
  {id:25,name:'Kegiatan Ekstrakurikuler TIK',class:'-',date:'-',desc:'Kegiatan ini membuat siswa lebih dekat dengan dunia hardware dan pemecahan masalah teknis."',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/589028016_122095186371142209_249432968125532827_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeGja7axWsuQKGk5GGNUl0dlJZ5xAj7sfK4lnnECPux8rlq7Gsds0UbQFPrR68EAzyFv4m7ggq_fPbKT84Q77eJg&_nc_ohc=_sTN9f4Hh4oQ7kNvwEW7M_o&_nc_oc=AdnOEFTDtLq2aYBIdh4mp_KfU1nuZaSvhUF5qXlPRyojkKbS_0kVWGP1cu0H4pHxGVU&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=vcK4gh3ssy5PsSeQ875WMQ&oh=00_AfjJVDtWOplWRnipsbsnZXBPlWmP0GsExPJ1PDW-KG2h7A&oe=6929EE62'},
  {id:26,name:'Kegiatan Ekstrakurikuler TIK',class:'-',date:'-',desc:'Eskul TIK melatih siswa agar terampil menggunakan perangkat digital secara positif dan aman..',photo:'https://scontent.fplm1-1.fna.fbcdn.net/v/t39.30808-6/587181493_122095186407142209_4925595507985605909_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeEGv59JltCIMLo2UWqvGm1Dtn9FmEC0Jbu2f0WYQLQlu0glVvoxPM1YCjv1U4_llhvXWV9IuhvJ-AI7eMHyrYaF&_nc_ohc=M55VzxIGFRAQ7kNvwEHzex4&_nc_oc=AdmHQVUVumpHdPvFWcgJfAoxzDqWFPk3ihxwx02YbgmSGsLm2CZ4c_0_Ofjyatr6Vv4&_nc_zt=23&_nc_ht=scontent.fplm1-1.fna&_nc_gid=rToK9x9T-rAmTudnMuf0Fw&oh=00_Afg6wLy_flDLKat6uc5ipOdj8y0U5hgE1KL7mZI2jZN9tg&oe=692A06A3'}
];

/* ===== state ===== */
let filtered = [...items];
let perPage = 6;
let page = 1;
const grid = document.getElementById('grid');
const totalCount = document.getElementById('totalCount');
const qInput = document.getElementById('q');
const pills = document.querySelectorAll('.pill');
const loadMoreBtn = document.getElementById('loadMore');

/* ===== helper progressive load (blur -> clear) ===== */
function makeCard(item){
  const card = document.createElement('article');
  card.className = 'card';
  card.innerHTML = `
    <div class="media">
      <div class="overlay">
        <div class="icon view" title="Lihat">üîç</div>
      </div>
      <img data-src="${item.photo}" alt="${item.name}" loading="lazy">
    </div>
    <div class="meta">
      <div>
        <div class="name">${item.name}</div>
        <div class="cls">${item.class}</div>
      </div>
      <div style="text-align:right;color:var(--muted);font-size:12px">${item.date}</div>
    </div>
  `;
  // click overlay or card to open modal
  card.querySelector('.view').addEventListener('click', (e)=>{ e.stopPropagation(); openModalById(item.id); });
  card.querySelector('.media img').addEventListener('load', function(){
    this.classList.add('loaded');
  });
  card.addEventListener('click', ()=> openModalById(item.id));
  return card;
}

/* ===== render with pagination (load perPage * page) ===== */
function renderPage(reset=false){
  if(reset){ grid.innerHTML=''; page=1; }
  const start = 0;
  const end = page * perPage;
  const slice = filtered.slice(start, end);
  grid.innerHTML = '';
  slice.forEach(it => grid.appendChild(makeCard(it)));
  totalCount.textContent = filtered.length;
  // show/hide load more
  loadMoreBtn.style.display = (filtered.length > end) ? 'block' : 'none';
  // observe images for lazy progressive load
  observeImages();
}

/* ===== lazy progressive image loader via IntersectionObserver ===== */
function observeImages(){
  const imgs = grid.querySelectorAll('img[data-src]');
  const io = new IntersectionObserver((entries, obs)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        const img = entry.target;
        img.src = img.dataset.src;
        // when loaded, class 'loaded' will be added in load handler (see makeCard)
        obs.unobserve(img);
      }
    });
  }, {rootMargin:'200px'});
  imgs.forEach(i=> io.observe(i));
}

/* ===== filter & search ===== */
function applyFilters(){
  const q = qInput.value.trim().toLowerCase();
  const active = document.querySelector('.pill.active')?.dataset.filter || 'all';
  filtered = items.filter(it=>{
    if(active !== 'all' && it.class !== active) return false;
    if(!q) return true;
    return (it.name + ' ' + it.desc + ' ' + it.class).toLowerCase().includes(q);
  });
  renderPage(true);
}

/* ===== pill click handlers ===== */
pills.forEach(p=>{
  p.addEventListener('click', ()=>{
    pills.forEach(x=>x.classList.remove('active'));
    p.classList.add('active');
    applyFilters();
  });
});

/* ===== search handler ===== */
qInput.addEventListener('input', ()=> applyFilters());

/* ===== load more ===== */
loadMoreBtn.addEventListener('click', ()=>{
  page++;
  renderPage();
});

/* ===== modal logic (full-screen viewer with prev/next + keyboard) ===== */
const modalBG = document.getElementById('modalBG');
const modalImg = document.getElementById('modalImg');
const modalName = document.getElementById('modalName');
const modalClass = document.getElementById('modalClass');
const modalDate = document.getElementById('modalDate');
const modalDesc = document.getElementById('modalDesc');
let currentIndex = -1;

function openModalById(id){
  currentIndex = filtered.findIndex(it => it.id === id);
  if(currentIndex < 0) return;
  const it = filtered[currentIndex];
  modalImg.src = it.photo;
  modalName.textContent = it.name;
  modalClass.textContent = it.class;
  modalDate.textContent = it.date;
  modalDesc.textContent = it.desc;
  modalBG.style.display = 'flex';
  modalBG.setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden';
}
function closeModal(){
  modalBG.style.display = 'none';
  modalBG.setAttribute('aria-hidden','true');
  document.body.style.overflow = 'auto';
}
document.getElementById('prevBtn').addEventListener('click', ()=>{
  if(currentIndex > 0) currentIndex--;
  else currentIndex = filtered.length - 1;
  openModalById(filtered[currentIndex].id);
});
document.getElementById('nextBtn').addEventListener('click', ()=>{
  if(currentIndex < filtered.length - 1) currentIndex++;
  else currentIndex = 0;
  openModalById(filtered[currentIndex].id);
});
modalBG.addEventListener('click', (e)=>{ if(e.target === modalBG) closeModal(); });
document.addEventListener('keydown', (e)=>{
  if(modalBG.style.display === 'flex'){
    if(e.key === 'Escape') closeModal();
    if(e.key === 'ArrowLeft') document.getElementById('prevBtn').click();
    if(e.key === 'ArrowRight') document.getElementById('nextBtn').click();
  }
});

/* ===== Floating upload demo UI (no backend) ===== */
const fab = document.getElementById('fab');
const uploadBG = document.getElementById('uploadBG');
const cancelUpload = document.getElementById('cancelUpload');
fab.addEventListener('click', ()=>{ uploadBG.style.display='flex'; });
cancelUpload.addEventListener('click', ()=>{ uploadBG.style.display='none'; });
uploadBG.addEventListener('click', (e)=>{ if(e.target === uploadBG) uploadBG.style.display='none'; });

document.getElementById('uploadForm').addEventListener('submit', (e)=>{
  e.preventDefault();
  const f = new FormData(e.target);
  const newItem = {
    id: items.length + 1,
    name: f.get('name'),
    class: f.get('class'),
    date: new Date().toISOString().slice(0,10),
    desc: f.get('desc'),
    photo: f.get('photo')
  };
  // push into items and reapply filters (demo only)
  items.unshift(newItem);
  applyFilters();
  uploadBG.style.display='none';
  alert('Terima kasih foto sudah ditambahkan (demo lokal). Untuk menyimpan permanen hubungi admin untuk koneksi backend.');
});

/* ===== init render ===== */
applyFilters();
</script>
</body>
</html>

