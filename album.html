<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Galeri SDN 3 Gelumbang</title>
<meta name="description" content="Galeri SDN 3 Gelumbang galeri kegiatan & dokumentasi siswa. Pencarian, filter kelas, dan tampilan premium." />
<link rel="icon" href="/logo2.png" />

<style>
  :root{
    --bg:#071026;
    --card:#0b1220;
    --muted:#99a7b8;
    --accent:#38bdf8;
    --accent-2:#60a5fa;
    --glass: rgba(255,255,255,0.03);
    --radius:14px;
    --gap:16px;
    --max:1200px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:linear-gradient(180deg,var(--bg),#041025 140%);
    color:#e6eef6;padding:28px;display:flex;justify-content:center;
  }
  .wrap{width:100%;max-width:var(--max)}

  header{
    display:flex;align-items:center;justify-content:space-between;gap:20px;margin-bottom:18px;
  }
  .brand{display:flex;gap:12px;align-items:center}

  /* LOGO FIX */
  .logo {
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:4px;
    padding:6px 12px;
    border-radius:12px;
    background:linear-gradient(135deg,#fff,#dbeafe);
    color:#003366;
    font-weight:800;
    text-decoration:none;
    font-size:14px;
    min-width:56px;
    white-space:nowrap;
  }

  p.lead{margin:2px 0 0;color:var(--muted);font-size:13px}

  /* toolbar */
  .toolbar{display:flex;gap:12px;align-items:center;margin:14px 0 18px;flex-wrap:wrap}
  .search{
    background:var(--card);border:1px solid rgba(255,255,255,0.04);
    padding:10px 12px;border-radius:12px;display:flex;gap:10px;align-items:center;min-width:260px;flex:1;
  }
  .search input{flex:1;background:transparent;border:0;color:inherit;outline:none;font-size:14px}
  .filters{display:flex;gap:8px;flex-wrap:wrap}
  .pill{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:999px;color:var(--muted);cursor:pointer;font-weight:600}
  .pill.active{border-color:var(--accent);color:var(--accent);box-shadow:0 6px 18px rgba(56,189,248,0.06);}

  /* masonry grid */
  .grid{
    column-width:260px;
    column-gap:var(--gap);
  }
  .card{
    display:inline-block;width:100%;margin:0 0 var(--gap);background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
    border-radius:12px;padding:10px;border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 8px 24px rgba(2,6,23,0.55);transition:transform .24s ease, box-shadow .24s;
  }
  .card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(2,6,23,0.75)}
  .media{
    width:100%;aspect-ratio:4/3;border-radius:10px;background-position:center;background-size:cover;position:relative;overflow:hidden;
  }
  .media img{
    width:100%;height:100%;object-fit:cover;display:block;filter:blur(14px) scale(1.02);
    transition:filter .6s ease, opacity .45s ease;
  }
  .media img.loaded{filter:blur(0) scale(1);opacity:1}
  .meta{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
  .name{font-weight:700;font-size:14px}
  .cls{color:var(--muted);font-size:13px}

  /* modal */
  .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.85);display:none;align-items:center;justify-content:center;padding:18px;z-index:1200}
  .modal{
    width:min(1100px,98%);background:linear-gradient(180deg,#071225,#041129);border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);display:flex;gap:18px;align-items:flex-start;
  }
  .modal-left{flex:1}
  .modal-img{width:100%;height:60vh;object-fit:contain;border-radius:10px;background:#000}
  .modal-right{width:320px;color:var(--muted)}
  .modal h2{margin:0 0 6px;color:#fff}
  .modal .meta-item{display:flex;justify-content:space-between;margin:8px 0;color:var(--muted)}

  .fab{
    position:fixed;right:22px;bottom:22px;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#04293a;
    padding:14px 16px;border-radius:12px;font-weight:800;border:0;cursor:pointer;box-shadow:0 12px 36px rgba(56,189,248,0.14);z-index:1100;
  }

  @media(max-width:880px){
    .modal{flex-direction:column}
    .modal-img{height:50vh}
    .modal-right{width:100%}
  }
</style>

</head>
<body>
<div class="wrap">

  <header>
    <div class="brand">
      <div class="logo">SD3</div>
      <div>
        <h1>Galeri Siswa SDN 3 Gelumbang</h1>
        <p class="lead">Galeri kegiatan & dokumentasi siswa klik foto untuk tampilan penuh.</p>
      </div>
    </div>

    <div style="text-align:right;color:var(--muted);font-size:13px">
      Total koleksi: <span id="totalCount">0</span>
    </div>
  </header>

  <div class="toolbar">
    <div class="search">
      <input id="q" placeholder="Cari nama atau kata kunci..." />
    </div>

    <div class="filters">
      <button class="pill active" data-filter="all">Semua</button>
      <button class="pill" data-filter="1">1</button>
      <button class="pill" data-filter="2">2</button>
      <button class="pill" data-filter="3">3</button>
      <button class="pill" data-filter="4">4</button>
      <button class="pill" data-filter="5">5</button>
      <button class="pill" data-filter="6">6</button>
    </div>
  </div>

  <main>
    <section id="grid" class="grid"></section>
    <button id="loadMore" class="load-more">Muat Lebih Banyak</button>
  </main>

</div>

<!-- MODAL -->
<div id="modalBG" class="modal-backdrop">
  <div class="modal">
    <div class="modal-left">
      <img id="modalImg" class="modal-img" alt="Foto siswa">
    </div>
    <aside class="modal-right">
      <h2 id="modalName"></h2>
      <div class="meta-item"><span>Kelas</span><strong id="modalClass"></strong></div>
      <div class="meta-item"><span>Tanggal</span><span id="modalDate"></span></div>
      <p id="modalDesc"></p>
      <div style="margin-top:12px;display:flex;gap:8px">
        <button id="prevBtn" class="pill" style="flex:1">← Sebelumnya</button>
        <button id="nextBtn" class="pill" style="flex:1">Berikut →</button>
      </div>
    </aside>
  </div>
</div>

<script>
/* ===================== DATA ===================== */
const items = [
  {
    id:1,
    name:'Kegiatan Merakit UPS',
    class:'-',
    date:'22 November 2025',
    desc:'Merakit UPS.',
    photo:'URL-FOTO-UPS'
  },
  {
    id:2,
    name:'Kegiatan Pramuka',
    class:'-',
    date:'11 September 2022',
    desc:'Kegiatan Pramuka.',
    photo:'URL-FOTO-PRAMUKA'
  },
  {
    id:3,
    name:'ANBK 2025',
    class:'5',
    date:'29 September 2025',
    desc:'Asesmen Nasional Berbasis Komputer.',
    photo:'URL-FOTO-ANBK'
  }
];

/* ===================== RENDER ===================== */
const grid = document.getElementById("grid");
const totalCount = document.getElementById("totalCount");
totalCount.textContent = items.length;

function renderCards() {
  grid.innerHTML = "";
  items.forEach(item => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <div class="media">
        <img src="${item.photo}" alt="" />
      </div>
      <div class="meta">
        <span class="name">${item.name}</span>
        <span class="cls">${item.class}</span>
      </div>
    `;
    card.onclick = () => openModal(item);
    grid.appendChild(card);
  });
}
renderCards();

/* ===================== MODAL ===================== */
const modalBG = document.getElementById("modalBG");
const modalImg = document.getElementById("modalImg");
const modalName = document.getElementById("modalName");
const modalClass = document.getElementById("modalClass");
const modalDate = document.getElementById("modalDate");
const modalDesc = document.getElementById("modalDesc");

let currentIndex = 0;

function openModal(item){
  modalBG.style.display = "flex";
  const index = items.findIndex(x=>x.id===item.id);
  currentIndex = index;
  fillModal(items[index]);
}

function fillModal(item){
  modalImg.src = item.photo;
  modalName.textContent = item.name;
  modalClass.textContent = item.class;
  modalDate.textContent = item.date;
  modalDesc.textContent = item.desc;
}

modalBG.onclick = e => { if(e.target===modalBG) modalBG.style.display="none"; };

document.getElementById("prevBtn").onclick = () => {
  currentIndex = (currentIndex - 1 + items.length) % items.length;
  fillModal(items[currentIndex]);
};
document.getElementById("nextBtn").onclick = () => {
  currentIndex = (currentIndex + 1) % items.length;
  fillModal(items[currentIndex]);
};
</script>
</body>
</html>
